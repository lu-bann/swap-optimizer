<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Helper methods for computing the typed data hash used in `eth_signTypedData`."><title>Eip712 in ethers::types::transaction::eip712 - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../../../static.files/rustdoc-9bb858ba049f1f21.css" id="mainThemeStyle"><meta name="rustdoc-vars" data-root-path="../../../../" data-static-root-path="../../../../static.files/" data-current-crate="ethers" data-themes="" data-resource-suffix="" data-rustdoc-version="1.72.0 (5680fa18f 2023-08-23)" data-channel="1.72.0" data-search-js="search-f6292fe389d70017.js" data-settings-js="settings-de11bff964e9d4e5.js" data-settings-css="settings-8c76f75bfb6bd192.css" data-theme-light-css="light-0f8c037637f9eb3e.css" data-theme-dark-css="dark-1097f8e92a01e3cf.css" data-theme-ayu-css="ayu-614652228113ac93.css" ><script src="../../../../static.files/storage-59fd9b8ccb335783.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../../../static.files/main-0795b7d26be81095.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../../../../static.files/light-0f8c037637f9eb3e.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../../../../static.files/dark-1097f8e92a01e3cf.css"><link rel="stylesheet" href="../../../../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../../../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../../../../ethers/index.html"><img class="rust-logo" src="../../../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../../../../ethers/index.html"><img class="rust-logo" src="../../../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Eip712</a></h2><div class="sidebar-elems"><section><h3><a href="#required-associated-types">Required Associated Types</a></h3><ul class="block"><li><a href="#associatedtype.Error">Error</a></li></ul><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.domain">domain</a></li><li><a href="#tymethod.struct_hash">struct_hash</a></li><li><a href="#tymethod.type_hash">type_hash</a></li></ul><h3><a href="#provided-methods">Provided Methods</a></h3><ul class="block"><li><a href="#method.domain_separator">domain_separator</a></li><li><a href="#method.encode_eip712">encode_eip712</a></li></ul><h3><a href="#implementors">Implementors</a></h3></section><h2><a href="index.html">In ethers::types::transaction::eip712</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Trait <a href="../../../index.html">ethers</a>::<wbr><a href="../../index.html">types</a>::<wbr><a href="../index.html">transaction</a>::<wbr><a href="index.html">eip712</a>::<wbr><a class="trait" href="#">Eip712</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../../../../src/ethers_core/types/transaction/eip712.rs.html#63">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub trait Eip712 {
    type <a href="#associatedtype.Error" class="associatedtype">Error</a>: <a class="trait" href="https://doc.rust-lang.org/1.72.0/core/error/trait.Error.html" title="trait core::error::Error">Error</a> + <a class="trait" href="https://doc.rust-lang.org/1.72.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + <a class="trait" href="https://doc.rust-lang.org/1.72.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + <a class="trait" href="https://doc.rust-lang.org/1.72.0/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a>;

    // Required methods
    fn <a href="#tymethod.domain" class="fn">domain</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.72.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="struct.EIP712Domain.html" title="struct ethers::types::transaction::eip712::EIP712Domain">EIP712Domain</a>, Self::<a class="associatedtype" href="trait.Eip712.html#associatedtype.Error" title="type ethers::types::transaction::eip712::Eip712::Error">Error</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.type_hash" class="fn">type_hash</a>() -&gt; <a class="enum" href="https://doc.rust-lang.org/1.72.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;[<a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.u8.html">u8</a>; <a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.array.html">32</a>], Self::<a class="associatedtype" href="trait.Eip712.html#associatedtype.Error" title="type ethers::types::transaction::eip712::Eip712::Error">Error</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.struct_hash" class="fn">struct_hash</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.72.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;[<a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.u8.html">u8</a>; <a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.array.html">32</a>], Self::<a class="associatedtype" href="trait.Eip712.html#associatedtype.Error" title="type ethers::types::transaction::eip712::Eip712::Error">Error</a>&gt;;

    // Provided methods
    fn <a href="#method.domain_separator" class="fn">domain_separator</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.72.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;[<a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.u8.html">u8</a>; <a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.array.html">32</a>], Self::<a class="associatedtype" href="trait.Eip712.html#associatedtype.Error" title="type ethers::types::transaction::eip712::Eip712::Error">Error</a>&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.encode_eip712" class="fn">encode_eip712</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.72.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;[<a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.u8.html">u8</a>; <a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.array.html">32</a>], Self::<a class="associatedtype" href="trait.Eip712.html#associatedtype.Error" title="type ethers::types::transaction::eip712::Eip712::Error">Error</a>&gt; { ... }
}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Helper methods for computing the typed data hash used in <code>eth_signTypedData</code>.</p>
<p>The ethers-rs <code>derive_eip712</code> crate provides a derive macro to
implement the trait for a given struct. See documentation
for <code>derive_eip712</code> for more information and example usage.</p>
<p>For those who wish to manually implement this trait, see:
<a href="https://eips.ethereum.org/EIPS/eip-712">https://eips.ethereum.org/EIPS/eip-712</a></p>
<p>Any rust struct implementing Eip712 must also have a corresponding
struct in the verifying ethereum contract that matches its signature.</p>
</div></details><h2 id="required-associated-types" class="small-section-header">Required Associated Types<a href="#required-associated-types" class="anchor">§</a></h2><div class="methods"><details class="toggle" open><summary><section id="associatedtype.Error" class="method"><a class="srclink rightside" href="../../../../src/ethers_core/types/transaction/eip712.rs.html#65">source</a><h4 class="code-header">type <a href="#associatedtype.Error" class="associatedtype">Error</a>: <a class="trait" href="https://doc.rust-lang.org/1.72.0/core/error/trait.Error.html" title="trait core::error::Error">Error</a> + <a class="trait" href="https://doc.rust-lang.org/1.72.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + <a class="trait" href="https://doc.rust-lang.org/1.72.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + <a class="trait" href="https://doc.rust-lang.org/1.72.0/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a></h4></section></summary><div class="docblock"><p>User defined error type;</p>
</div></details></div><h2 id="required-methods" class="small-section-header">Required Methods<a href="#required-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="tymethod.domain" class="method"><a class="srclink rightside" href="../../../../src/ethers_core/types/transaction/eip712.rs.html#77">source</a><h4 class="code-header">fn <a href="#tymethod.domain" class="fn">domain</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.72.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="struct.EIP712Domain.html" title="struct ethers::types::transaction::eip712::EIP712Domain">EIP712Domain</a>, Self::<a class="associatedtype" href="trait.Eip712.html#associatedtype.Error" title="type ethers::types::transaction::eip712::Eip712::Error">Error</a>&gt;</h4></section></summary><div class="docblock"><p>Returns the current domain. The domain depends on the contract and unique domain
for which the user is targeting. In the derive macro, these attributes
are passed in as arguments to the macro. When manually deriving, the user
will need to know the name of the domain, version of the contract, chain ID of
where the contract lives and the address of the verifying contract.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.type_hash" class="method"><a class="srclink rightside" href="../../../../src/ethers_core/types/transaction/eip712.rs.html#82">source</a><h4 class="code-header">fn <a href="#tymethod.type_hash" class="fn">type_hash</a>() -&gt; <a class="enum" href="https://doc.rust-lang.org/1.72.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;[<a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.u8.html">u8</a>; <a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.array.html">32</a>], Self::<a class="associatedtype" href="trait.Eip712.html#associatedtype.Error" title="type ethers::types::transaction::eip712::Eip712::Error">Error</a>&gt;</h4></section></summary><div class="docblock"><p>This method is used for calculating the hash of the type signature of the
struct. The field types of the struct must map to primitive
ethereum types or custom types defined in the contract.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.struct_hash" class="method"><a class="srclink rightside" href="../../../../src/ethers_core/types/transaction/eip712.rs.html#85">source</a><h4 class="code-header">fn <a href="#tymethod.struct_hash" class="fn">struct_hash</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.72.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;[<a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.u8.html">u8</a>; <a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.array.html">32</a>], Self::<a class="associatedtype" href="trait.Eip712.html#associatedtype.Error" title="type ethers::types::transaction::eip712::Eip712::Error">Error</a>&gt;</h4></section></summary><div class="docblock"><p>Hash of the struct, according to EIP-712 definition of <code>hashStruct</code></p>
</div></details></div><h2 id="provided-methods" class="small-section-header">Provided Methods<a href="#provided-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="method.domain_separator" class="method"><a class="srclink rightside" href="../../../../src/ethers_core/types/transaction/eip712.rs.html#68">source</a><h4 class="code-header">fn <a href="#method.domain_separator" class="fn">domain_separator</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.72.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;[<a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.u8.html">u8</a>; <a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.array.html">32</a>], Self::<a class="associatedtype" href="trait.Eip712.html#associatedtype.Error" title="type ethers::types::transaction::eip712::Eip712::Error">Error</a>&gt;</h4></section></summary><div class="docblock"><p>Default implementation of the domain separator;</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.encode_eip712" class="method"><a class="srclink rightside" href="../../../../src/ethers_core/types/transaction/eip712.rs.html#90">source</a><h4 class="code-header">fn <a href="#method.encode_eip712" class="fn">encode_eip712</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.72.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;[<a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.u8.html">u8</a>; <a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.array.html">32</a>], Self::<a class="associatedtype" href="trait.Eip712.html#associatedtype.Error" title="type ethers::types::transaction::eip712::Eip712::Error">Error</a>&gt;</h4></section></summary><div class="docblock"><p>When using the derive macro, this is the primary method used for computing the final
EIP-712 encoded payload. This method relies on the aforementioned methods for computing
the final encoded payload.</p>
</div></details></div><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"><details class="toggle implementors-toggle"><summary><section id="impl-Eip712-for-TypedData" class="impl"><a class="srclink rightside" href="../../../../src/ethers_core/types/transaction/eip712.rs.html#330">source</a><a href="#impl-Eip712-for-TypedData" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="trait.Eip712.html" title="trait ethers::types::transaction::eip712::Eip712">Eip712</a> for <a class="struct" href="struct.TypedData.html" title="struct ethers::types::transaction::eip712::TypedData">TypedData</a></h3></section></summary><div class="impl-items"><section id="associatedtype.Error-1" class="associatedtype trait-impl"><a href="#associatedtype.Error-1" class="anchor">§</a><h4 class="code-header">type <a href="#associatedtype.Error" class="associatedtype">Error</a> = <a class="enum" href="enum.Eip712Error.html" title="enum ethers::types::transaction::eip712::Eip712Error">Eip712Error</a></h4></section></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Eip712-for-EIP712WithDomain%3CT%3E" class="impl"><a class="srclink rightside" href="../../../../src/ethers_core/types/transaction/eip712.rs.html#220">source</a><a href="#impl-Eip712-for-EIP712WithDomain%3CT%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="trait.Eip712.html" title="trait ethers::types::transaction::eip712::Eip712">Eip712</a> for <a class="struct" href="struct.EIP712WithDomain.html" title="struct ethers::types::transaction::eip712::EIP712WithDomain">EIP712WithDomain</a>&lt;T&gt;<span class="where fmt-newline">where
    T: <a class="trait" href="trait.Eip712.html" title="trait ethers::types::transaction::eip712::Eip712">Eip712</a> + <a class="trait" href="https://doc.rust-lang.org/1.72.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,</span></h3></section></summary><div class="impl-items"><section id="associatedtype.Error-2" class="associatedtype trait-impl"><a href="#associatedtype.Error-2" class="anchor">§</a><h4 class="code-header">type <a href="#associatedtype.Error" class="associatedtype">Error</a> = <a class="enum" href="enum.Eip712Error.html" title="enum ethers::types::transaction::eip712::Eip712Error">Eip712Error</a></h4></section></div></details></div><script src="../../../../implementors/ethers_core/types/transaction/eip712/trait.Eip712.js" data-ignore-extern-crates="ethers_core" async></script></section></div></main></body></html>